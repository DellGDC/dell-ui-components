//forms
//------------------------------------------------------------------------------------------
form {
  margin: 0;
}

fieldset {
  margin-bottom: 10px;
}

form div {
  float: none;
}

// Form controls
//===================================================================================

// Shared size and type resets
select,
textarea,
input[type="text"],
input[type="password"],
input[type="datetime"],
input[type="datetime-local"],
input[type="date"],
input[type="month"],
input[type="time"],
input[type="week"],
input[type="number"],
input[type="email"],
input[type="url"],
input[type="search"],
input[type="tel"],
input[type="color"],
.uneditable-input {
  height: @input-height-base;
  color: @gray-darker;
  border-radius: 1px;
  border: 1px solid @dell-gray-stroke;
  padding-left: 5px;
}

// Everything else
textarea,
input[type="text"],
input[type="password"],
input[type="datetime"],
input[type="datetime-local"],
input[type="date"],
input[type="month"],
input[type="time"],
input[type="week"],
input[type="number"],
input[type="email"],
input[type="url"],
input[type="search"],
input[type="tel"],
input[type="color"],
.uneditable-input {
  // Focus state
  .transition(~"border linear .2s, box-shadow linear .2s");
  &:focus {
    border-color: @dell-blue;
    @shadow: 0 0 2px lighten(@dell-blue, 20%);
    .box-shadow(@shadow);
    outline: none;
  }
}

textarea {
  height: auto;
}

// Set the height of select and file controls to match text inputs
select,
input[type="file"] {
  line-height: 10px;
}

// Make select elements obey height by applying a border
select {
  width: 100%; // dell-ui override
}

// Focus for select, file, radio, and checkbox
select:focus,
input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus {
  border-color: @dell-blue;
  outline: 0px auto @dell-blue;
  outline-offset: 0px;
}

input[type="radio"],
input[type="checkbox"] {
  margin: none;
  margin-top: 1px \9;
  line-height: normal;
  padding: 7px 7px 7px 20px;
  cursor: pointer;
  width: 15px;
  height: 15px;
}

// Radios and checkboxes on same line
.radio-inline,
.checkbox-inline {
  display: inline-block;
  padding-left: 30px;
  margin-left: -10px;
  margin-bottom: 0;
  vertical-align: middle;
  font-weight: normal;
  cursor: pointer;
}

// Checkboxes and radios
//
// Indent the labels to position radios/checkboxes as hanging controls.
//
.radio,
.checkbox {
  display: block;
  min-height: @line-height-computed; // clear the floating input if there is no label text
  margin-top: 5px;
  margin-bottom: 0px;
  margin-left: -10px;
  padding: 7px 7px 7px 30px;
  cursor: pointer;
  label {
    display: inline;
    font-weight: normal;
    cursor: pointer;
  }
}

.form-control {
  padding: 6px 5px;
}

// Uneditable inputs
//===================================================================================

// Make uneditable inputs look inactive
.uneditable-input,
.uneditable-textarea {
  color: @dell-gray-medium;
  background-color: @dell-gray-light;
}

// CHECKBOXES & RADIOS
//===================================================================================

// Indent the labels to position radios/checkboxes as hanging
.radio,
.checkbox {
  margin-bottom: 5px;
}

// Radios and checkboxes on same line
.radio.inline,
.checkbox.inline {
  padding-top: 0;
  margin-bottom: 5px;
}

// Mixin for form field states
.form-field-state(@text-color: #555555,@border-color: #cccccc, @background-color: #f5f5f5) {
  // Set the text color
  .control-label,
  .help-block,
  .help-inline {
    color: @text-color;
  }
  // Style inputs accordingly
  .checkbox,
  .radio,
  input,
  select,
  textarea {
    color: @text-color;
  }
  input,
  select,
  textarea {
    border-color: @border-color;
    .box-shadow(inset 0 1px 1px rgba(0, 0, 0, .075)); // Redeclare so transitions work
    &:focus {
      border-color: darken(@border-color, 10%);
      @shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 6px lighten(@border-color, 20%);
      .box-shadow(@shadow);
    }
  }
  // Give a small background color for input-prepend/-append
  .input-prepend .add-on,
  .input-append .add-on {
    color: @text-color;
    background-color: @background-color;
    border-color: @text-color;
  }
}

// FORM FIELD FEEDBACK STATES
//===================================================================================

// Warning
.control-group.warning {
  .form-field-state(@state-warning-text, @state-warning-text, @state-warning-bg);
}

// Error
.control-group.error {
  .form-field-state(@state-danger-text, @state-danger-text, @state-danger-bg);
}

// Success
.control-group.success {
  .form-field-state(@state-success-text, @state-success-text, @state-success-bg);
}

// Success
.control-group.info {
  .form-field-state(@state-info-text, @state-info-text, @state-info-bg);
}

// HTML5 invalid states
// Shares styles with the .control-group.error above
// dell-ui changed to blue so that the field does not look invalid as soon as you focus
input:focus:invalid,
textarea:focus:invalid,
select:focus:invalid {
  border-color: @dell-blue;
  &:focus {
    border-color: @dell-blue;
    @shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 3px lighten(@dell-blue, 20%);
    .box-shadow(@shadow);
  }
}

// General classes for quick sizes
.input-mini {
  width: 60px;
}

.input-small {
  width: 90px;
}

.input-medium {
  width: 150px;
}

.input-large {
  width: 210px;
}

.input-xlarge {
  width: 270px;
}

.input-xxlarge {
  width: 530px;
}

@media only screen and (max-width: @screen-sm-max) {
  .input-xxlarge {
    width: 100%;
  }
}

span.uneditable-input {
  padding-top: 7px;
}

// FORM ACTIONS
//===================================================================================
// TODO need to check if there is any 308 usage of this
.form-actions {
  padding: 19px 20px 20px;
  margin-top: 20px;
  margin-bottom: 20px;
  border-top: 1px solid @dell-gray-stroke;
  .clearfix(); // Adding clearfix to allow for .pull-right button containers
}

.control-group.error .popover,
.error .popover,
.error + .popover,
:not(form).ng-dirty.ng-invalid + .popover {
  background-color: @dell-alert-yellow;
}

.control-group.error .popover.right .arrow:after,
.error .popover.right .arrow:after,
.error + .popover.right .arrow:after,
:not(form).ng-dirty.ng-invalid + .popover.right .arrow:after {
  border-right-color: @dell-alert-yellow;
}

.control-group.error .popover.top .arrow:after,
.error .popover.top .arrow:after,
.error + .popover.top .arrow:after,
:not(form).ng-dirty.ng-invalid + .popover.top .arrow:after {
  border-top-color: @dell-alert-yellow;
}

.control-group.error .popover.left .arrow:after,
.error .popover.left .arrow:after,
.error + .popover.left .arrow:after,
:not(form).ng-dirty.ng-invalid + .popover.left .arrow:after {
  border-left-color: @dell-alert-yellow;
}

.control-group.error .popover.bottom .arrow:after,
.error .popover.bottom .arrow:after,
.error + .popover.bottom .arrow:after,
:not(form).ng-dirty.ng-invalid + .popover.bottom .arrow:after {
  border-bottom-color: @dell-alert-yellow;
}

// HELP TEXT
//===================================================================================

.help-block,
.help-inline {
  color: @gray; // same as body text for dell-ui
}

// INPUT GROUPS
//===================================================================================

// Allow us to put symbols and text within the input field for a cleaner look
.input-append,
.input-prepend {
  margin-bottom: 0;
  font-size: inherit;

  input,
  select,
  .uneditable-input {
    margin-bottom: 10px;
    + .add-on {
      margin-left: -5px;
    }
    height: @input-height-base;
  }

  .add-on {
    height: @input-height-base;
    padding: 7px 11px;
    border: 1px solid @dell-gray-stroke;
    + input,
    + select {
      margin-left: -5px;
    }
  }
  .active {
    background-color: lighten(@dell-green, 30);
    border-color: @dell-green;
  }
  .btn {
    height: @input-height-base;
  }
}

.input-prepend {
  .add-on,
  .btn {
    margin-right: -1px;
  }
  input,
  select,
  .uneditable-input {
    .border-radius(0 @input-border-radius @input-border-radius 0);
    + .btn-group .btn:last-child {
      .border-radius(0 @input-border-radius @input-border-radius 0);
    }
  }
  .btn-group {
    display: inline;
  }
  .add-on:first-child,
  .btn:first-child {
    // FYI, `.btn:first-child` accounts for a button group that's prepended
    .border-radius(@input-border-radius 0 0 @input-border-radius);
    height: @input-height-base;
  }
}

.input-append {
  input,
  select,
  .uneditable-input {
    .border-radius(@input-border-radius 0 0 @input-border-radius);
    + .btn-group .btn:last-child {
      .border-radius(0 @input-border-radius @input-border-radius 0);
    }
  }
  .add-on,
  .btn,
  .btn-group {
    margin-left: -5px;
  }
  .add-on:first-child,
  .btn:first-child,
  .btn-group:first-child > .dropdown-toggle,
  .btn-group:first-child {
    .border-radius(0);
  }
  .add-on:last-child,
  .btn:last-child,
  .btn-group:last-child > .dropdown-toggle {
    .border-radius(0 @input-border-radius @input-border-radius 0);
  }
}

// Remove all border-radius for inputs with both prepend and append
.input-prepend.input-append {
  input,
  select,
  .uneditable-input {
    .border-radius(0);
    + .btn-group .btn {
      .border-radius(0 @input-border-radius @input-border-radius 0);
    }
    + .add-on {
      margin-left: -5px;
    }
  }
  .add-on:first-child,
  .btn:first-child {
    margin-right: -1px;
    .border-radius(@input-border-radius 0 0 @input-border-radius);
  }
  .add-on:last-child,
  .btn:last-child {
    margin-left: -1px;
    .border-radius(0 @input-border-radius @input-border-radius 0);
  }
  .btn-group:first-child {
    margin-left: 0;
  }
  .add-on {
    + input,
    + select {
      margin-left: -5px;
      + .add-on {
        margin-left: -5px;
      }
    }
  }
}

// SEARCH FORM
//===================================================================================

input.search-query {
  padding-right: 14px;
  padding-right: 4px \9;
  padding-left: 14px;
  padding-left: 4px \9; /* IE7-8 doesn't have border-radius, so don't indent the padding */
  margin-bottom: 0; // Remove the default margin on all inputs
  .border-radius(15px);
}

/* Allow for input prepend/append in search forms */
.form-search .input-append .search-query,
.form-search .input-prepend .search-query {
  .border-radius(0); // Override due to specificity
}

.form-search .input-append .search-query {
  .border-radius(14px 0 0 14px);
}

.form-search .input-append .btn {
  .border-radius(0 14px 14px 0);
}

.form-search .input-prepend .search-query {
  .border-radius(0 14px 14px 0);
}

.form-search .input-prepend .btn {
  .border-radius(14px 0 0 14px);
}

// HORIZONTAL & VERTICAL FORMS
//===================================================================================

// Common properties
.form-group {
  margin-right: 5px;
  & .alert {
    margin-bottom: 5px;
    text-shadow: none;
    background: @dell-alert-yellow;
    border: 1px solid @dell-red-dark;
    position: relative;
    &:active,
    &:focus {
      background: @white;
    }
  }
}

.form-search,
.form-inline,
.form-horizontal {
  input,
  textarea,
  select,
  .help-inline,
  .uneditable-input,
  .input-prepend,
  .input-append {
    display: inline-block;

    //TODO need to check the .ie7 comment below
    // .ie7-inline-block(); NEED TO FIX THIS LINE
    margin-bottom: 0;
    vertical-align: middle;
  }
  // Re-hide hidden elements due to specifity
  .hide {
    display: none;
  }
}

//modified form controls for compressed layouts
.form-compressed {
  [class^=col-] {
    position: relative;
    min-height: 1px;
    padding-left: 2.5px;
    padding-right: 2.5px;
    padding-bottom: 10px;
  }
  .row {
    margin-left: -2.5px;
    margin-right: -2.5px;
    margin-bottom: -10px;
  }
}

.form-search label,
.form-inline label,
.form-search .btn-group,
.form-inline .btn-group {
  display: inline-block;
}

// Remove margin for input-prepend/-append
.form-search .input-append,
.form-inline .input-append,
.form-search .input-prepend,
.form-inline .input-prepend {
  margin-bottom: 0;
}

// Inline checkbox/radio labels (remove padding on left)
.form-search .radio,
.form-search .checkbox,
.form-inline .radio,
.form-inline .checkbox {
  padding-left: 0;
  margin-bottom: 0;
  vertical-align: middle;
}

// Remove float and margin, set to inline-block
.form-search .radio input[type="radio"],
.form-search .checkbox input[type="checkbox"],
.form-inline .radio input[type="radio"],
.form-inline .checkbox input[type="checkbox"] {
  float: left;
  margin-right: 3px;
  margin-left: 0;
}

.form-horizontal .control-label {
  float: left;
  width: 160px;
  padding-top: 6px;
  text-align: right;
}

.form-horizontal,
.form-horizontal .radio,
.form-horizontal .checkbox,
.form-horizontal .radio-inline,
.form-horizontal .checkbox-inline {
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 5px;
  padding-left: 10px;
}

.form-horizontal .controls {
  margin-left: 180px;
  width: auto;
}

@media only screen and (max-width: @screen-xs-max) {
  .form-horizontal .control-label {
    float: none;
    width: auto;
    padding-top: 0;
    text-align: left;
  }

  .form-horizontal .controls {
    margin-left: 0;
  }

  .form-horizontal .form-actions {
    padding-left: 10px;
    padding-right: 10px;
  }
}

// Margin to space out fieldsets
.control-group {
  margin-bottom: floor((@line-height-base * 7px)); // ~10px
}

// Legend collapses margin, so next element is responsible for spacing
legend + .control-group {
  margin-top: floor((@line-height-base * 14px)); // ~20px
  -webkit-margin-top-collapse: separate;
}

// Horizontal-specific styles
.form-horizontal {
  // Increase spacing between groups
  .control-group {
    margin-bottom: 20px;
    .clearfix();
  }
}

// Float the labels left
.control-label {
  float: left;
  width: @component-offset-horizontal - 20;
  padding-top: 5px;
  text-align: right;
}

// Move over all input controls and content
.controls {
  // Super jank IE7 fix to ensure the inputs in .input-append and input-prepend
  // don't inherit the margin of the parent, in this case .controls
  *display: inline-block;
  *padding-left: 20px;
  margin-left: @component-offset-horizontal;
  *margin-left: 0;
  &:first-child {
    *padding-left: @component-offset-horizontal;
  }
}

// Remove bottom margin on block level help text since that's accounted for on .control-group
.help-block {
  margin-bottom: 0;
}

// And apply it only to .help-block instances that follow a form control
input,
select,
textarea,
.uneditable-input,
.input-prepend,
.input-append {
  + .help-block {
    margin-top: floor((@line-height-base * 7px)); // ~10px;
  }
}

// Move over buttons in .form-actions to align with .controls
.form-actions {
  padding-left: @component-offset-horizontal;
}

.form-search {
  position: relative;
}

.form-search .input-prepend,
.form-search .input-append {
  width: 100%;
  clear: both;
}

.form-search .search-query,
.form-search .input-prepend .search-query,
.form-search .input-append .search-query {
  width: 100%;
  height: @input-height-base + 10;
  padding: 5px 80px 5px 5px; //TODO: 80px is a hack because for longer words of "search" the text in the input would run behind the button.;
  .border-radius(@input-border-radius);
}

.form-search .input-prepend .search-query {
  padding: 5px 5px 5px 80px; //TODO: 80px is a hack because for longer words of "search" the text in the input would run behind the button.;
  .border-radius(@input-border-radius);
}

.form-search .btn {
  margin-left: 5px;
  background: @btn-primary-bg; // forces the button to primary
  color: @white;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
  .border-radius(@border-radius-small);
}

.form-search .input-append .btn {
  right: 25px;
  .border-radius(@border-radius-small);
}

.form-search .input-prepend .btn {
  left: 25px;
  right: inherit;
  .border-radius(@border-radius-small);
  z-index: 3;
}

.form-search div {
  position: absolute;
  top: 5px;
  right: 4px;
  .icon-ui-close {
    margin-top: 10px;
  }
}

//input-groups
//------------------------------------------------------------------------------------------
// Allows us to put symbols and text within the input field for a cleaner look
.input-append,
.input-prepend {
  margin-bottom: 0;
  font-size: inherit;

  input,
  select,
  .uneditable-input {
    margin-bottom: 10px;
    + .add-on {
      margin-left: -5px;
    }
    height: @input-height-base;
  }

  .add-on {
    height: @input-height-base;
    padding: 7px 11px;
    border: 1px solid @dell-gray-stroke;
    + input,
    + select {
      margin-left: -5px;
    }
  }
  .active {
    background-color: lighten(@dell-green, 30);
    border-color: @dell-green;
  }
  .btn {
    height: @input-height-base;
  }
}

.input-prepend {
  .add-on,
  .btn {
    margin-right: -1px;
  }
  input,
  select,
  .uneditable-input {
    .border-radius(0 @input-border-radius @input-border-radius 0);
    + .btn-group .btn:last-child {
      .border-radius(0 @input-border-radius @input-border-radius 0);
    }
  }
  .btn-group {
    display: inline;
  }
  .add-on:first-child,
  .btn:first-child {
    // FYI, `.btn:first-child` accounts for a button group thats prepended
    .border-radius(@input-border-radius 0 0 @input-border-radius);
    height: @input-height-base;
  }
}

.input-append {
  input,
  select,
  .uneditable-input {
    .border-radius(@input-border-radius 0 0 @input-border-radius);
    + .btn-group .btn:last-child {
      .border-radius(0 @input-border-radius @input-border-radius 0);
    }
  }
  .add-on,
  .btn,
  .btn-group {
    margin-left: -5px;
  }
  .add-on:first-child,
  .btn:first-child,
  .btn-group:first-child > .dropdown-toggle,
  .btn-group:first-child {
    .border-radius(0);
  }
  .add-on:last-child,
  .btn:last-child,
  .btn-group:last-child > .dropdown-toggle {
    .border-radius(0 @input-border-radius @input-border-radius 0);
  }
}

// Remove all border-radius for inputs with both prepend and append
.input-prepend.input-append {
  input,
  select,
  .uneditable-input {
    .border-radius(0);
    + .btn-group .btn {
      .border-radius(0 @input-border-radius @input-border-radius 0);
    }
    + .add-on {
      margin-left: -5px;
    }
  }
  .add-on:first-child,
  .btn:first-child {
    margin-right: -1px;
    .border-radius(@input-border-radius 0 0 @input-border-radius);
  }
  .add-on:last-child,
  .btn:last-child {
    margin-left: -1px;
    .border-radius(0 @input-border-radius @input-border-radius 0);
  }
  .btn-group:first-child {
    margin-left: 0;
  }
  .add-on {
    + input,
    + select {
      margin-left: -5px;
      + .add-on {
        margin-left: -5px;
      }
    }
  }
}

//////////////////////////////
// spinbox code begins here //
//////////////////////////////

.dpui-numberPicker {
  display: inline-block;
  i {
    font-size: 14px;
  }
  button {
    margin: 0;
    border: 1px solid @dell-gray-stroke;
    font-size: 18px;
    display: inline-block;
    width: 32px;
    height: 34px;
    line-height: 20px;
    vertical-align: top;
    outline: none;
    cursor: pointer;
    background: @dell-default-gray;
    color: @dell-blue;
  }
  button:hover {
    background: @dell-default-gray-hover;
  }
}

.spinbox-input {
  display: inline-block;
  width: 32px;
  height: 34px;
  line-height: 30px;
  padding: 0 4px;
  margin: 0;
  text-align: center;
  outline: none;
  vertical-align: top;
  border: 0;
  border-top: 1px solid @dell-gray-stroke;
  border-bottom: 1px solid @dell-gray-stroke;
  background: @white;
  color: #424242;
}

.spinbox-input-vert {
  border-left: 1px solid @dell-gray-stroke;
  border-right: 1px solid @dell-gray-stroke;
  border-top: 0px solid @dell-gray-stroke;
  border-bottom: 0px solid @dell-gray-stroke;
  width: 32px;
  height: 32px;
}

.spinbox-input:focus {
  background: @white;
}

.dpui-numberPicker.dpui-numberPicker-min .spinbox-decrease, .dpui-numberPicker.dpui-numberPicker-max .spinbox-increase {
  background: @dell-default-gray;
}

.spinbox-vert {
  width: 32px;
}

////////////////////////////
// spinbox code ends here //
////////////////////////////
